<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>DirectoryDesc</title>
<link href="../cchelpstyle.css" type="text/css" rel="stylesheet">
</head>
<body>
<p>{Header} </p>
<h1>Directory &amp; Path Implementation</h1>
<h2>Description</h2>
<p>This example shows how to implement a simple Yellow Pages application that consists of a Path, Directory and a Grid.</p>
<h2>Usage</h2>
<p>Navigate to the 'Software' category (<em>Computers and Internet -&gt; Software</em> ) to view the corresponding Yellow Pages entries.</p>
<h2>Steps to recreate</h2>
<ol>
  <li>Use the <strong>Directory Builder</strong> to create the <em>yp_categories</em> Directory and Path components based on the <em>directory_categories</em> table which is located in the Internet database. In the 2<sup>nd</sup> step of the Builder, leave the <strong>Root Category identifier</strong> field empty. 
  <li>Use the <strong>Grid Builder</strong> to create the <em>yp_grid</em> Grid that shows the Yellow Pages listings.<br>
  On the 2<sup>nd</sup> step of the Builder use the <strong>Build Query</strong> option to select 3 tables: <em>directory_items</em>, <em>states</em> and <em>directory_categories</em>, then select the desired fields from the <em>directory_items</em> table plus the <em>state_name</em> field from the <em>states</em> table and the <em>category_name</em> field from the <em>directory_categories</em> table. 
  <li>To make the <em>email</em> and <em>url</em> fields “clickable”, change the <em>{email}</em> Label control to a Link control, then under the Format tab of the Properties window, set its <strong>href</strong> property to “mailto:{email_Src}”. Then&nbsp;switch to the Data tab&nbsp;of the Properties window and set the <strong>Href Type</strong> property to <em>Database</em>, its <strong>Href Source</strong> property to <em>email</em> and set its <strong>Preserve Parameters</strong> property to <em>None</em>.<br>
  Similarly, change the <em>{url}</em> Label control to a Link control, set its <strong>Href Type</strong> property to <em>Database</em>, its <strong>Href Source</strong> property to <em>url</em> and set its <strong>Preserve Parameters</strong> property to <em>None</em>. 
  <li>To improve the Directory layout, set the Directory's <strong>No. of Columns</strong> property to <em>2</em> and <strong>No. of Subcategories</strong> property to <em>4</em>. 
  <li>To allow the Grid to utilize the category selected during the directory browsing, add the following Where parameter: <em>directory_items.category_id</em> equals(=) <em>category_id</em> into the Grid's <strong>Data Source</strong> property. 
  <li>Add the appropriate programming code to the Directory's <strong>Before Show</strong> event or copy it from the provided example. 
  <li>Add the appropriate programming code to the Grid's <strong>Before Show</strong> event or copy it from the provided example. 
  <li>Make cosmetic changes as needed by modifying the text and captions within the HTML. </li>
</ol>
<h2>Database Tables used</h2>
<p>Database: <em>Internet</em></p>
<p>Tables: <em>directory_categories, directory_items, states</em></p>
<h2>Events Used</h2>
<p>Grid's <strong><em>Before Show</em></strong> event&nbsp;- used to hide the Grid when no matching records are found.</p>
<p>Directory's <strong><em>Before Show</em></strong> event - used to hide the whole Directory when the user reaches the lowest Directory level and no more subcategories are found.</p>
</body>
</html>